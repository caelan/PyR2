<?xml version="1.0" ?>
<!-- ===================================================================== -->
<!-- Before this URDF file was added to Drake, it was auto generated by
     `xacro` from a source file. While living in Drake, this URDF file
     underwent changes and therefore cannot be exactly generated from the
     original source file. See pull requests #2163 and #2520.

     Collision models: complex meshes can drastically affect run time.
     Therefore some collision models are represented as simple cylinders
     instead of meshes. However it's important to have accurate collision
     models for the end of the arm because we anticipate that the end is the
     most likely part of the arm to make contact.
-->
<!-- ===================================================================== -->
<robot name="iiwa14" xmlns:xacro="http://www.ros.org/wiki/xacro">
  <!-- Import Rviz colors -->
  <material name="Black">
    <color rgba="0.0 0.0 0.0 1.0"/>
  </material>
  <material name="Blue">
    <color rgba="0.0 0.0 0.8 1.0"/>
  </material>
  <material name="Green">
    <color rgba="0.0 0.8 0.0 1.0"/>
  </material>
  <material name="Grey">
    <color rgba="0.4 0.4 0.4 1.0"/>
  </material>
  <material name="Orange">
    <color rgba="1.0 0.423529411765 0.0392156862745 1.0"/>
  </material>
  <material name="Brown">
    <color rgba="0.870588235294 0.811764705882 0.764705882353 1.0"/>
  </material>
  <material name="Red">
    <color rgba="0.8 0.0 0.0 1.0"/>
  </material>
  <material name="White">
    <color rgba="1.0 1.0 1.0 1.0"/>
  </material>


    <link name="ptu_pan_link">
      <inertial>
        <mass value="0.65" />
        <origin xyz="0 0 0" rpy="0 0 0" />
        <inertia ixx="0.0001" ixy="0" ixz="0" iyy="0.0001" iyz="0" izz="0.0001" />
      </inertial>
      <visual>
        <material name="ptu_body_color">
          <color rgba="0.3 0.3 0.3 1.0" />
        </material>
        <origin xyz="-0.0295 0.011 0" rpy="3.14 0 0" />
        <geometry>
          <mesh filename="meshes/flir-ptu/flir-ptu-simple.obj"/>
        </geometry>
      </visual>
      <collision>
        <geometry>
          <box size="0.045 0.065 0.044" />
        </geometry>
        <origin xyz="0 0.011 0" />
      </collision>
      <collision>
        <geometry>
          <box size="0.046 0.044 0.044" />
        </geometry>
        <origin xyz="-0.045 0.0215 0" />
      </collision>
      <collision>
        <geometry>
          <cylinder length="0.015" radius="0.005" />
        </geometry>
        <origin xyz="-0.074 0.021 0" rpy="0 1.57 0" />
      </collision>
    </link>

  <link name="ptu_tilt_link">
      <inertial>
        <mass value="0.65" />
        <origin xyz="0 0 0" rpy="0 0 0" />
        <inertia ixx="0.0001" ixy="0" ixz="0" iyy="0.0001" iyz="0" izz="0.0001" />
      </inertial>
      <visual>
        <material name="ptu_body_color">
          <color rgba="0.3 0.3 0.3 1.0" />
        </material>
        <origin xyz="-0.0295 0.011 0" rpy="3.14 0 0" />
        <geometry>
          <mesh filename="meshes/flir-ptu/flir-ptu-simple.obj"/>
        </geometry>
      </visual>
      <collision>
        <geometry>
          <box size="0.045 0.065 0.044" />
        </geometry>
        <origin xyz="0 0.011 0" />
      </collision>
      <collision>
        <geometry>
          <box size="0.046 0.044 0.044" />
        </geometry>
        <origin xyz="-0.045 0.0215 0" />
      </collision>
      <collision>
        <geometry>
          what <cylinder length="0.015" radius="0.005" />
        </geometry>
        <origin xyz="-0.074 0.021 0" rpy="0 1.57 0" />
      </collision>
    </link>


    <link name="ptu_base_link" />
    <link name="ptu_tilted_link" />
    <link name="ptu_mount_link" />

    <!-- There's an offset between the origin of the pan joint and the origin of
         the overall device, which is between the mounting screws on its base. -->
    <joint name="ptu_base" type="fixed">
      <parent link="ptu_base_link"/>
      <child link="ptu_pan_link"/>
      <origin xyz="0 -0.011 0.022"/>
    </joint>

    <!-- The pan joint -->
    <!-- TLP       <axis xyz="0 -1 0" rpy="3.14159 0 0" /> -->
    <joint name="ptu_pan" type="revolute">
      <parent link="ptu_pan_link" />
      <origin xyz="0 0 0.066" rpy="-1.5708 0 0" />
      <child link="ptu_tilt_link" />
      <axis xyz="0 1 0"/>
      <limit lower="-2.775" upper="2.775"
             effort="30" velocity="1.0" />
    </joint>
  <transmission name="ptu_pan_tran">
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="ptu_pan">
      <hardwareInterface>PositionJointInterface</hardwareInterface>
    </joint>
    <actuator name="ptu_pan_motor">
      <hardwareInterface>PositionJointInterface</hardwareInterface>
      <mechanicalReduction>1</mechanicalReduction>
    </actuator>
  </transmission>


  <!-- The tilt joint -->
  <!-- TLP       <axis xyz="1 0 0" /> -->
    <joint name="ptu_tilt" type="revolute">
      <parent link="ptu_tilt_link" />
      <origin xyz="0 0 0" rpy="-1.5708 0 0" />
      <child link="ptu_tilted_link" />
      <axis xyz="0 1 0" />
      <limit lower="-0.52" upper="0.52"
             effort="30" velocity="1.0" />
    </joint>

  <transmission name="ptu_tilt_tran">
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="ptu_tilt">
      <hardwareInterface>PositionJointInterface</hardwareInterface>
    </joint>
    <actuator name="ptu_pan_tilt">
      <hardwareInterface>PositionJointInterface</hardwareInterface>
      <mechanicalReduction>1</mechanicalReduction>
    </actuator>
  </transmission>

    <!-- Fixed joint to provide a convenient attachment point for accessories. -->
    <joint name="ptu_mount" type="fixed">
      <parent link="ptu_tilted_link"/>
      <child link="ptu_mount_link"/>
      <origin xyz="0 0 -0.03912" rpy="3.1416 0 0" />
    </joint>


  <!-- Create a fixed joint to connect the PTU to the rest of the robot -->
  <joint name="base_to_ptu_base" type="fixed">
    <parent link="head_mount_link"/>
    <child link="ptu_base_link"/>
    <origin xyz="0 0 0"/>
  </joint>


  <joint name="camera_joint" type="fixed">
    <origin rpy="0.0 0.0 1.57079632679" xyz="0 0 0"/>
    <parent link="ptu_mount_link"/>
    <child link="camera_mount_kinect"/>
  </joint>

  <link name='camera_mount_kinect'/>


 <joint name="camera_joint_cheats" type="fixed">
   <origin rpy="1.57079632679 3.14159265359 3.14159265359" xyz="0 0 0"/>
     <parent link="ptu_mount_link"/>
     <child link="camera_optical_link"/>
 </joint>

  <joint name="bhpn_camera_joint_cheats" type="fixed">
   <origin rpy="0 3.14159265359 0" xyz="0 0 0"/>
     <parent link="camera_optical_link"/>
     <child link="bhpn_camera_optical_link"/>
  </joint>
  
 <link name="bhpn_camera_optical_link" />

 <link name='camera_optical_link'/>


  <!-- If you had a lidar or some other device mounted on the PTU, you would create another
       fixed joint here between the ptu_mount link and the origin of the device. -->

  <!--iiwa-->
  <!--joint between {parent} and link_0-->
  <joint name="base_joint" type="fixed">
    <origin rpy="0 0 0" xyz="0 0 0.24"/>
    <parent link="base_link"/>
    <child link="iiwa_link_0"/>
  </joint>
  <link name="iiwa_link_0">
    <inertial>
      <origin rpy="0 0 0" xyz="-0.1 0 0.07"/>
      <mass value="5"/>
      <inertia ixx="0.05" ixy="0" ixz="0" iyy="0.06" iyz="0" izz="0.03"/>
    </inertial>
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="meshes/visual/link_0.obj"/>
      </geometry>
      <material name="Grey"/>
    </visual>
    <self_collision_checking>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <capsule length="0.25" radius="0.15"/>
      </geometry>
    </self_collision_checking>
  </link>
  <!-- joint between link_0 and link_1 -->
  <joint name="iiwa_joint_1" type="revolute">
    <parent link="iiwa_link_0"/>
    <child link="iiwa_link_1"/>
    <origin rpy="0 0 0" xyz="0 0 0.1575"/>
    <axis xyz="0 0 1"/>
    <limit effort="300" lower="-2.96705972839" upper="2.96705972839" velocity="10"/>
    <safety_controller k_position="100" k_velocity="2" soft_lower_limit="-2.93215314335" soft_upper_limit="2.93215314335"/>
    <dynamics damping="0.5"/>
  </joint>
  <link name="iiwa_link_1">
    <inertial>
      <origin rpy="0 0 0" xyz="0 -0.03 0.12"/>
      <mass value="5.76"/> <!--4-->
      <!--<inertia ixx="0.1" ixy="0" ixz="0" iyy="0.09" iyz="0" izz="0.02"/>--> <!--<original urdf value>-->
      <inertia ixx="0.033" ixy="0" ixz="0" iyy="0.0333" iyz="0.004887" izz="0.0123"/> <!--<TODO(YeZhao): lumped parameter estimation>-->
    </inertial>
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="meshes/visual/link_1.obj"/>
      </geometry>
      <material name="Grey"/>
    </visual>
  </link>
  <!-- joint between link_1 and link_2 -->
  <joint name="iiwa_joint_2" type="revolute">
    <parent link="iiwa_link_1"/>
    <child link="iiwa_link_2"/>
    <origin rpy="1.57079632679   0 3.14159265359" xyz="0 0 0.2025"/>
    <axis xyz="0 0 1"/>
    <limit effort="300" lower="-2.09439510239" upper="2.09439510239" velocity="10"/>
    <safety_controller k_position="100" k_velocity="2" soft_lower_limit="-2.05948851735" soft_upper_limit="2.05948851735"/>
    <dynamics damping="0.5"/>
  </joint>
  <link name="iiwa_link_2">
    <inertial>
      <origin rpy="0 0 0" xyz="0.0003 0.059 0.042"/>
      <mass value="6.35"/> <!-- 3.95 kuka CAD value--> <!--4 original urdf value-->
      <!--<inertia ixx="0.05" ixy="0" ixz="0" iyy="0.018" iyz="0" izz="0.044"/>--> <!--<original urdf value>-->
      <inertia ixx="0.0305" ixy="0" ixz="0" iyy="0.0304" iyz="0.004887" izz="0.011"/>
    </inertial>
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="meshes/visual/link_2.obj"/>
      </geometry>
      <material name="Orange"/>
    </visual>
  </link>
  <!-- joint between link_2 and link_3 -->
  <joint name="iiwa_joint_3" type="revolute">
    <parent link="iiwa_link_2"/>
    <child link="iiwa_link_3"/>
    <origin rpy="1.57079632679 0 3.14159265359" xyz="0 0.2045 0"/>
    <axis xyz="0 0 1"/>
    <limit effort="300" lower="-2.96705972839" upper="2.96705972839" velocity="10"/>
    <safety_controller k_position="100" k_velocity="2" soft_lower_limit="-2.05948851735" soft_upper_limit="2.05948851735"/>
    <dynamics damping="0.5"/>
  </joint>
  <link name="iiwa_link_3">
    <inertial>
      <origin rpy="0 0 0" xyz="0 0.03 0.13"/>
      <mass value="3.5"/> <!--3.18 kuka CAD value--> <!--4 original urdf value-->
      <!--<inertia ixx="0.08" ixy="0" ixz="0" iyy="0.075" iyz="0" izz="0.01"/>--> <!--<original urdf value>-->
      <inertia ixx="0.025" ixy="0" ixz="0" iyy="0.0238" iyz="0.00487" izz="0.0076"/>
    </inertial>
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="meshes/visual/link_3.obj"/>
      </geometry>
      <material name="Grey"/>
    </visual>
  </link>
  <!-- joint between link_3 and link_4 -->
  <joint name="iiwa_joint_4" type="revolute">
    <parent link="iiwa_link_3"/>
    <child link="iiwa_link_4"/>
    <origin rpy="1.57079632679 0 0" xyz="0 0 0.2155"/>
    <axis xyz="0 0 1"/>
    <limit effort="300" lower="-2.09439510239" upper="2.09439510239" velocity="10"/>
    <safety_controller k_position="100" k_velocity="2" soft_lower_limit="-2.05948851735" soft_upper_limit="2.05948851735"/>
    <dynamics damping="0.5"/>
  </joint>
  <link name="iiwa_link_4">
    <inertial>
      <origin rpy="0 0 0" xyz="0 0.067 0.034"/>
      <mass value="3.5"/> <!--2.74 kuka CAD value--> <!--4 original urdf value-->
      <!--<inertia ixx="0.03" ixy="0" ixz="0" iyy="0.01" iyz="0" izz="0.029"/>--> <!--<original urdf value>-->
      <inertia ixx="0.017" ixy="0" ixz="0" iyy="0.0164" iyz="0.00284" izz="0.006"/>
    </inertial>
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="meshes/visual/link_4.obj"/>
      </geometry>
      <material name="Orange"/>
    </visual>
  </link>
  <!-- joint between link_4 and link_5 -->
  <joint name="iiwa_joint_5" type="revolute">
    <parent link="iiwa_link_4"/>
    <child link="iiwa_link_5"/>
    <origin rpy="-1.57079632679 3.14159265359 0" xyz="0 0.1845 0"/>
    <axis xyz="0 0 1"/>
    <limit effort="300" lower="-2.96705972839" upper="2.96705972839" velocity="10"/>
    <safety_controller k_position="100" k_velocity="2" soft_lower_limit="-2.05948851735" soft_upper_limit="2.05948851735"/>
    <dynamics damping="0.5"/>
  </joint>
  <link name="iiwa_link_5">
    <inertial>
      <origin rpy="0 0 0" xyz="0.0001 0.021 0.076"/>
      <mass value="3.5"/> <!--1.69 kuka CAD value--> <!--1.7 original urdf value-->
      <!--<inertia ixx="0.02" ixy="0" ixz="0" iyy="0.018" iyz="0" izz="0.005"/>--> <!--<original urdf value>-->
      <inertia ixx="0.01" ixy="0" ixz="0" iyy="0.0087" iyz="0.00309" izz="0.00449"/>
    </inertial>
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="meshes/visual/link_5.obj"/>
      </geometry>
      <material name="Grey"/>
    </visual>
  </link>
  <!-- joint between link_5 and link_6 -->
  <joint name="iiwa_joint_6" type="revolute">
    <parent link="iiwa_link_5"/>
    <child link="iiwa_link_6"/>
    <origin rpy="1.57079632679 0 0" xyz="0 0 0.2155"/>
    <axis xyz="0 0 1"/>
    <limit effort="300" lower="-2.09439510239" upper="2.09439510239" velocity="10"/>
    <safety_controller k_position="100" k_velocity="2" soft_lower_limit="-2.05948851735" soft_upper_limit="2.05948851735"/>
    <dynamics damping="0.5"/>
  </joint>
  <link name="iiwa_link_6">
    <inertial>
      <origin rpy="0 0 0" xyz="0 0.0006 0.0004"/>
      <mass value="1.8"/> <!--1.8 kuka CAD value--> <!--1.8 original urdf value-->
      <!--<inertia ixx="0.005" ixy="0" ixz="0" iyy="0.0036" iyz="0" izz="0.0047"/>--> <!--<original urdf value>-->
      <inertia ixx="0.0049" ixy="0" ixz="0" iyy="0.0047" iyz="0.000246" izz="0.0036"/>
    </inertial>
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="meshes/visual/link_6.obj"/>
      </geometry>
      <material name="Orange"/>
    </visual>
  </link>
  <!-- joint between link_6 and link_7 -->
  <joint name="iiwa_joint_7" type="revolute">
    <parent link="iiwa_link_6"/>
    <child link="iiwa_link_7"/>
    <origin rpy="-1.57079632679 3.14159265359 0" xyz="0 0.081 0"/>
    <axis xyz="0 0 1"/>
    <limit effort="300" lower="-3.05432619099" upper="3.05432619099" velocity="10"/>
    <safety_controller k_position="100" k_velocity="2" soft_lower_limit="-3.01941960595" soft_upper_limit="3.01941960595"/>
    <dynamics damping="0.5"/>
  </joint>
  <link name="iiwa_link_7">
    <inertial>
      <origin rpy="0 0 0" xyz="0 0 0.02"/>
      <mass value="1.2"/> <!--0.31 kuka CAD value--> <!--0.3 original urdf value-->
      <!--<inertia ixx="0.001" ixy="0" ixz="0" iyy="0.001" iyz="0" izz="0.001"/>--> <!--<original urdf value>-->
      <inertia ixx="0.0002" ixy="0" ixz="0" iyy="0.0002" iyz="0" izz="0.0003"/>
    </inertial>
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="meshes/visual/link_7.obj"/>
      </geometry>
      <material name="Grey"/>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="meshes/collision/link_7.obj"/>
      </geometry>
      <material name="Grey"/>
    </collision>
  </link>
  <joint name="iiwa_joint_ee" type="fixed">
    <parent link="iiwa_link_7"/>
    <child link="iiwa_link_ee_kuka"/>
    <origin rpy="3.14159265359 3.14159265359 3.14159265359" xyz="0 0 0.045"/>
    <axis xyz="0 0 1"/>
  </joint>
  <link name="iiwa_link_ee_kuka">
    </link>
  <joint name="tool0_joint" type="fixed">
    <parent link="iiwa_link_7"/>
    <child link="iiwa_link_ee"/>
    <origin rpy="0 -1.57079632679 0" xyz="0 0 0.045"/>
  </joint>
  <link name="iiwa_link_ee">
    </link>

  <link name='iiwa_tool_frame'/>
    <joint name="iiwa_tool_joint" type="fixed">
      <parent link="iiwa_link_ee"/>
      <child link="iiwa_tool_frame"/>
       <origin xyz="0.125 0.0 0.0" rpy="0.0 0.0 0.0"/>
    </joint>



<link name='base_footprint'>
<visual>
      <origin xyz="0.0 0.0 0.0" rpy="0.0 0.0 0.0"/>
      <geometry>
        <box size="0.001 0.001 0.001"/>
      </geometry>
      <material name="black">
        <color rgba="0.6 0.6 0.6 1"/>
      </material>
    </visual>
    <collision>
      <origin xyz="0.0 0.0 0.0" rpy="0.0 0.0 0.0"/>
      <geometry>
        <box size="0.001 0.001 0.001"/>
      </geometry>
   </collision>
</link>

  <joint name="base_foot_joint" type="fixed">
    <parent link="base_footprint"/>
    <child link="base_link"/>
     <origin xyz="0.0 0.0 0.24" rpy="0.0 0.0 0.0"/>
  </joint>

  <link name='world'/>

    <joint name="base_foot_world" type="fixed">
      <parent link="world"/>
      <child link="base_footprint"/>
       <origin xyz="0.0 0.0 0.0" rpy="0.0 0.0 0.0"/>
    </joint>


  <!-- Fix to world just for testing -->
  <link name="base_link">
    <visual>
      <origin xyz="0.0 0.0 0.0" rpy="0.0 0.0 0.0"/>
      <geometry>
        <box size="0.48 0.48 0.48"/>
      </geometry>
      <material name="black">
        <color rgba="0.6 0.6 0.6 1"/>
      </material>
    </visual>
    <collision>
      <origin xyz="0.0 0.0 0.0" rpy="0.0 0.0 0.0"/>
      <geometry>
        <box size="0.48 0.48 0.48"/>
      </geometry>
   </collision>
  </link>


  <!-- TLP - HUH? <axis xyz="0 0 1"/> -->
  <joint name="base_mount_joint" type="fixed">
    <parent link="base_footprint"/>
    <child link="base_mount_link"/>
     <origin xyz="-0.96 -0.2 0.0" rpy="-0.0246023649 0.0 0.0"/>
    <limit effort="300" lower="-2.96705972839" upper="2.96705972839" velocity="10"/>
    <safety_controller k_position="100" k_velocity="2" soft_lower_limit="-2.93215314335" soft_upper_limit="2.93215314335"/>
    <dynamics damping="0.5"/>

  </joint>

  <link name="base_mount_link">
    <visual>
      <origin xyz="0.0 0.0 0.0" rpy="0.0 0.0 0.0"/>
      <geometry>
        <box size="0.0001 0.0001 0.0001"/>
      </geometry>
      <material name="black">
        <color rgba="0.6 0.6 0.6 1"/>
      </material>
    </visual>
    <collision>
      <origin xyz="0.0 0.0 0.0" rpy="0.0 0.0 0.0"/>
      <geometry>
        <box size="0.0001 0.0001 0.0001"/>
      </geometry>
   </collision>
  </link>

  <joint name="head_mount_joint" type="fixed">
    <parent link="base_mount_link"/>
    <child link="head_mount_link"/>
     <origin xyz="0.0 0.0 1.465" rpy="0.0 0.0 0.0"/>
  </joint>

  <link name="head_mount_link">
    <visual>
      <origin xyz="0.0 0.0 0.0" rpy="0.0 0.0 0.0"/>
      <geometry>
        <box size="0.0001 0.0001 0.0001"/>
      </geometry>
      <material name="black">
        <color rgba="0.6 0.6 0.6 1"/>
      </material>
    </visual>
    <collision>
      <origin xyz="0.0 0.0 0.0" rpy="0.0 0.0 0.0"/>
      <geometry>
        <box size="0.0001 0.0001 0.0001"/>
      </geometry>
   </collision>
  </link>

 <joint
    name="wrist"
    type="fixed">
    <origin
      xyz="0 0 0.045"
      rpy="0 0 -1.57079632679 " />
    <parent
      link="iiwa_link_7" />
    <child
      link="robotiq_85_base_link" />
    <axis
      xyz="0 1 0" />
    <limit
      lower=".032"
      upper=".876"
      velocity="2.0"
      effort="1000" />
  </joint>

  <link
    name="robotiq_85_base_link">
    <inertial>
      <origin
        xyz="0.00021987 0 0.030163"
        rpy="0 0 0" />
      <mass
        value="0.30915" />
      <inertia
        ixx="0.00028972"
        ixy="-5.7879E-10"
        ixz="-1.8543E-06"
        iyy="0.00030737"
        iyz="1.682E-12"
        izz="0.00019914" />
    </inertial>
    <visual>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="meshes/gripper/robotiq_85_base_link_fine.obj" />
      </geometry>
      <material
        name="">
        <color
          rgba="0.1 0.1 0.1 1" />
      </material>
    </visual>
    <!-- <collision>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="meshes/robotiq_85_base_link_coarse.obj" />
      </geometry>
    </collision> -->
  </link>
  <link
    name="left_outer_knuckle">
    <inertial>
      <origin
        xyz="0.0178331863169983 0 0.0021442477325704"
        rpy="0 0 0" />
      <mass
        value="0.00684838849434396" />
      <inertia
        ixx="2.66832029033166E-07"
        ixy="1.66142314639824E-15"
        ixz="1.45945633322873E-07"
        iyy="1.3889233257419E-06"
        iyz="2.82951161241588E-15"
        izz="1.26603336914415E-06" />
    </inertial>
    <visual>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="meshes/gripper/outer_knuckle_fine.STL" />
      </geometry>
      <material
        name="">
        <color
          rgba="0.1 0.1 0.1 1" />
      </material>
    </visual>
  <!--     <collision>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="meshes/gripper/outer_knuckle_coarse.STL" />
      </geometry>
    </collision> -->
  </link>
  <joint
    name="left_outer_knuckle_joint"
    type="fixed">
    <origin
      xyz="0.0306011444260539 0 0.0627920162695395"
      rpy="0 0 0" />
    <parent
      link="robotiq_85_base_link" />
    <child
      link="left_outer_knuckle" />
    <axis
      xyz="0 -1 0" />
    <limit
    lower="0"
      upper="0.8757"
      velocity="2.0"
      effort="1000" />
  </joint>
  <link
    name="left_outer_finger">
    <inertial>
      <origin
        xyz="0.00131451599174296 0 0.0215404163180413"
        rpy="0 0 0" />
      <mass
        value="0.0273093985570947" />
      <inertia
        ixx="8.51629628283022E-06"
        ixy="2.58174336207405E-19"
        ixz="3.83829504344079E-07"
        iyy="6.9133328065108E-06"
        iyz="-7.58589926143789E-19"
        izz="2.25006832221981E-06" />
    </inertial>
    <visual>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="meshes/gripper/outer_finger_fine.STL" />
      </geometry>
      <material
        name="">
        <color
          rgba="0.1 0.1 0.1 1" />
      </material>
    </visual>
    <!-- <collision>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="meshes/gripper/outer_finger_coarse.STL" />
      </geometry>
    </collision> -->
  </link>
  <joint
    name="left_outer_finger_joint"
    type="fixed">
    <origin
      xyz="0.0316910442266543 0 -0.00193396375724605"
      rpy="0 0 0" />
    <parent
      link="left_outer_knuckle" />
    <child
      link="left_outer_finger" />
    <axis
      xyz="0 -1 0" />
      <limit
      lower="-0.8757"
      upper="0"
      velocity="2.0"
      effort="1000" />
  </joint>
  <link
    name="left_inner_knuckle">
    <inertial>
      <origin
        xyz="0.017097546626628 0 0.0224918438201868"
        rpy="0 0 0" />
      <mass
        value="0.0110930853895903" />
      <inertia
        ixx="4.23392770691541E-06"
        ixy="5.748978936968E-15"
        ixz="1.78855677119788E-06"
        iyy="3.96548790524392E-06"
        iyz="1.05464666369669E-14"
        izz="3.24068002883007E-06" />
    </inertial>
    <visual>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="meshes/gripper/inner_knuckle_fine.STL" />
      </geometry>
      <material
        name="">
        <color
          rgba="0.1 0.1 0.1 1" />
      </material>
    </visual>
    <!-- <collision>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="meshes/gripper/inner_knuckle_coarse.STL" />
      </geometry>
    </collision> -->
  </link>
  <joint
    name="left_inner_knuckle_joint"
    type="fixed">
    <origin
      xyz="0.0127000000001501 0 0.0693074999999639"
      rpy="0 0 0" />
    <parent
      link="robotiq_85_base_link" />
    <child
      link="left_inner_knuckle" />
    <axis
      xyz="0 -1 0" />
    <limit
      lower="-0.8757"
      upper="0.8757"
      velocity="2.0"
      effort="1000" />
    <!-- <mimic
      joint="left_outer_knuckle_joint"
      multiplier="1"
      offset="0" /> -->
  </joint>
  <link
    name="left_inner_finger">
    <inertial>
      <origin
        xyz="0.0060275613594574 0 0.00669925693133241"
        rpy="0 0 0" />
      <mass
        value="0.00724255346165745" />
      <inertia
        ixx="1.47824274053603E-06"
        ixy="-3.94884463570303E-19"
        ixz="-3.45268847648622E-07"
        iyy="1.70064480838395E-06"
        iyz="3.5059838910097E-19"
        izz="4.77151336838364E-07" />
    </inertial>
    <visual>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="meshes/gripper/inner_finger_fine.STL" />
      </geometry>
      <material
        name="">
        <color
          rgba="0.1 0.1 0.1 1" />
      </material>
    </visual>
    <!-- <collision>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="meshes/gripper/inner_finger_coarse.STL" />
      </geometry>
    </collision> -->
  </link>
  <joint
    name="left_inner_finger_joint"
    type="fixed">
    <origin
      xyz="0.034585310861294 0 0.0454970193817975"
      rpy="0 0 0" />
    <parent
      link="left_inner_knuckle" />
    <child
      link="left_inner_finger" />
    <axis
      xyz="0 -1 0" />
    <limit
      lower="0"
      upper="0.8757"
      velocity="2.0"
      effort="1000" />
    <!-- <mimic
      joint="left_outer_knuckle_joint"
      multiplier="-1"
      offset="0" /> -->
  </joint>
  <link
    name="right_inner_knuckle">
    <inertial>
      <origin
        xyz="0.0168606186773776 0 0.0226699950793434"
        rpy="0 0 0" />
      <mass
        value="0.0110930853895903" />
      <inertia
        ixx="4.27134775939882E-06"
        ixy="-8.53568456728898E-15"
        ixz="1.77774229944246E-06"
        iyy="3.96548790524392E-06"
        iyz="-8.45108024914164E-15"
        izz="3.20325997634666E-06" />
    </inertial>
    <visual>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="meshes/gripper/inner_knuckle_fine.STL" />
      </geometry>
      <material
        name="">
        <color
          rgba="0.1 0.1 0.1 1" />
      </material>
    </visual>
   <!--  <collision>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="meshes/gripper/inner_knuckle_coarse.STL" />
      </geometry>
    </collision> -->
  </link>
  <joint
    name="right_inner_knuckle_joint"
    type="fixed">
    <origin
      xyz="-0.0126999999998499 0 0.0693075000000361"
      rpy="0 0 3.14159265358979" />
    <parent
      link="robotiq_85_base_link" />
    <child
      link="right_inner_knuckle" />
    <axis
      xyz="0 1 0" />
    <limit
      lower="-0.8757"
      upper="0.8757"
      velocity="2.0"
      effort="1000" />
   <!--  <mimic
      joint="finger_joint"
      multiplier="-1"
      offset="0" /> -->
  </joint>
  <link
    name="right_inner_finger">
    <inertial>
      <origin
        xyz="0.00602756228812038 0 0.00669925609578108"
        rpy="0 0 0" />
      <mass
        value="0.00724255346165744" />
      <inertia
        ixx="1.47824283625957E-06"
        ixy="-3.95952064019123E-19"
        ixz="-3.45268708875543E-07"
        iyy="1.70064480838394E-06"
        iyz="3.55286507960029E-19"
        izz="4.77151241114822E-07" />
    </inertial>
    <visual>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="meshes/gripper/inner_finger_fine.STL" />
      </geometry>
      <material
        name="">
        <color
          rgba="0.1 0.1 0.1 1" />
      </material>
    </visual>
    <!-- <collision>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="meshes/gripper/inner_finger_coarse.STL" />
      </geometry>
    </collision> -->
  </link>
  <joint
    name="right_inner_finger_joint"
    type="fixed">
    <origin
      xyz="0.0341060475457406 0 0.0458573878541688"
      rpy="0 0 0" />
    <parent
      link="right_inner_knuckle" />
    <child
      link="right_inner_finger" />
    <axis
      xyz="0 1 0" />
    <limit
      lower="-0.8757"
      upper="0.8000"
      velocity="2.0"
      effort="1000" />
    <!-- <mimic
      joint="finger_joint"
      multiplier="1"
      offset="0" /> -->
  </joint>
  <link
    name="right_outer_knuckle">
    <inertial>
      <origin
        xyz="0.0178097074051638 0 0.00233123458346721"
        rpy="0 0 0" />
      <mass
        value="0.00684838849401352" />
      <inertia
        ixx="2.70004361573169E-07"
        ixy="1.59579467624491E-15"
        ixz="1.56396493788199E-07"
        iyy="1.38892332558312E-06"
        iyz="2.82357800318817E-15"
        izz="1.26286103637978E-06" />
    </inertial>
    <visual>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="meshes/gripper/outer_knuckle_fine.STL" />
      </geometry>
      <material
        name="">
        <color
          rgba="0.1 0.1 0.1 1" />
      </material>
    </visual>
    <!-- <collision>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="meshes/gripper/outer_knuckle_coarse.STL" />
      </geometry>
    </collision> -->
  </link>
  <joint
    name="right_outer_knuckle_joint"
    type="fixed">
    <origin
      xyz="-0.0306011444258893 0 0.0627920162695395"
      rpy="0 0 3.14159265358979" />
    <parent
      link="robotiq_85_base_link" />
    <child
      link="right_outer_knuckle" />
    <axis
      xyz="0 1 0" />
    <limit
      lower="-0.8757"
      upper="0"
      velocity="2.0"
      effort="1000" />
    <!-- <mimic
      joint="finger_joint"
      multiplier="-1"
      offset="0" /> -->
  </joint>
  <link
    name="right_outer_finger">
    <inertial>
      <origin
        xyz="0.00108844269639009 0 0.0215530225245502"
        rpy="0 0 0" />
      <mass
        value="0.0273093985570947" />
      <inertia
        ixx="8.52366028592721E-06"
        ixy="3.41683380899422E-19"
        ixz="3.18003675694284E-07"
        iyy="6.91333280651081E-06"
        iyz="7.37726682706417E-19"
        izz="2.24270431912283E-06" />
    </inertial>
    <visual>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="meshes/gripper/outer_finger_fine.STL" />
      </geometry>
      <material
        name="">
        <color
          rgba="0.1 0.1 0.1 1" />
      </material>
    </visual>
    <!-- <collision>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="meshes/gripper/outer_finger_coarse.STL" />
      </geometry>
    </collision> -->
  </link>
  <joint
    name="right_outer_finger_joint"
    type="fixed">
    <origin
      xyz="0.0317095909367246 0 -0.0016013564954687"
      rpy="0 0 0" />
    <parent
      link="right_outer_knuckle" />
    <child
      link="right_outer_finger" />
    <axis
      xyz="0 1 0" />
    <limit
      lower=".032"
      upper=".876"
      velocity="2.0"
      effort="1000" />
  </joint>

  <!--Extensions -->
  <!-- Load Gazebo lib and set the robot namespace -->
  <gazebo>
    <plugin filename="libgazebo_ros_control.so" name="gazebo_ros_controller">
      <robotNamespace>/iiwa</robotNamespace>
    </plugin>
  </gazebo>
  <!-- Link0 -->
  <gazebo reference="iiwa_link_0">
    <material>Gazebo/Grey</material>
    <mu1>0.2</mu1>
    <mu2>0.2</mu2>
  </gazebo>
  <!-- Link1 -->
  <gazebo reference="iiwa_link_1">
    <material>Gazebo/Orange</material>
    <mu1>0.2</mu1>
    <mu2>0.2</mu2>
  </gazebo>
  <!-- Link2 -->
  <gazebo reference="iiwa_link_2">
    <material>Gazebo/Orange</material>
    <mu1>0.2</mu1>
    <mu2>0.2</mu2>
  </gazebo>
  <!-- Link3 -->
  <gazebo reference="iiwa_link_3">
    <material>Gazebo/Orange</material>
    <mu1>0.2</mu1>
    <mu2>0.2</mu2>
  </gazebo>
  <!-- Link4 -->
  <gazebo reference="iiwa_link_4">
    <material>Gazebo/Orange</material>
    <mu1>0.2</mu1>
    <mu2>0.2</mu2>
  </gazebo>
  <!-- Link5 -->
  <gazebo reference="iiwa_link_5">
    <material>Gazebo/Orange</material>
    <mu1>0.2</mu1>
    <mu2>0.2</mu2>
  </gazebo>
  <!-- Link6 -->
  <gazebo reference="iiwa_link_6">
    <material>Gazebo/Orange</material>
    <mu1>0.2</mu1>
    <mu2>0.2</mu2>
  </gazebo>
  <!-- Link7 -->
  <gazebo reference="iiwa_link_7">
    <material>Gazebo/Grey</material>
    <mu1>0.2</mu1>
    <mu2>0.2</mu2>
  </gazebo>
  <transmission name="iiwa_tran_1">
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="iiwa_joint_1">
      <hardwareInterface>PositionJointInterface</hardwareInterface>
    </joint>
    <actuator name="iiwa_motor_1">
      <hardwareInterface>PositionJointInterface</hardwareInterface>
      <mechanicalReduction>1</mechanicalReduction>
    </actuator>
  </transmission>
  <transmission name="iiwa_tran_2">
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="iiwa_joint_2">
      <hardwareInterface>PositionJointInterface</hardwareInterface>
    </joint>
    <actuator name="iiwa_motor_2">
      <hardwareInterface>PositionJointInterface</hardwareInterface>
      <mechanicalReduction>1</mechanicalReduction>
    </actuator>
  </transmission>
  <transmission name="iiwa_tran_3">
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="iiwa_joint_3">
      <hardwareInterface>PositionJointInterface</hardwareInterface>
    </joint>
    <actuator name="iiwa_motor_3">
      <hardwareInterface>PositionJointInterface</hardwareInterface>
      <mechanicalReduction>1</mechanicalReduction>
    </actuator>
  </transmission>
  <transmission name="iiwa_tran_4">
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="iiwa_joint_4">
      <hardwareInterface>PositionJointInterface</hardwareInterface>
    </joint>
    <actuator name="iiwa_motor_4">
      <hardwareInterface>PositionJointInterface</hardwareInterface>
      <mechanicalReduction>1</mechanicalReduction>
    </actuator>
  </transmission>
  <transmission name="iiwa_tran_5">
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="iiwa_joint_5">
      <hardwareInterface>PositionJointInterface</hardwareInterface>
    </joint>
    <actuator name="iiwa_motor_5">
      <hardwareInterface>PositionJointInterface</hardwareInterface>
      <mechanicalReduction>1</mechanicalReduction>
    </actuator>
  </transmission>
  <transmission name="iiwa_tran_6">
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="iiwa_joint_6">
      <hardwareInterface>PositionJointInterface</hardwareInterface>
    </joint>
    <actuator name="iiwa_motor_6">
      <hardwareInterface>PositionJointInterface</hardwareInterface>
      <mechanicalReduction>1</mechanicalReduction>
    </actuator>
  </transmission>
  <transmission name="iiwa_tran_7">
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="iiwa_joint_7">
      <hardwareInterface>PositionJointInterface</hardwareInterface>
    </joint>
    <actuator name="iiwa_motor_7">
      <hardwareInterface>PositionJointInterface</hardwareInterface>
      <mechanicalReduction>1</mechanicalReduction>
    </actuator>
  </transmission>
</robot>
